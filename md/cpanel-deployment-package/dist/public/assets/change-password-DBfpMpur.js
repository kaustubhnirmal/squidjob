import{n as f,af as j,r as n,j as s,C as b,o as g,p as C,q as N,L as t,I as i,aw as y,B as w,y as v}from"./index-DSPCxSv1.js";function E(){const{toast:m}=f(),{currentUser:F}=j(),[r,l]=n.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,c]=n.useState(!1),[a,P]=n.useState({}),d=e=>{const{name:u,value:p}=e.target;l({...r,[u]:p})},x=()=>{const e={};return r.oldPassword||(e.oldPassword="Current password is required"),r.newPassword?r.newPassword.length<6&&(e.newPassword="Password must be at least 6 characters"):e.newPassword="New password is required",r.confirmPassword?r.newPassword!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",P(e),Object.keys(e).length===0},h=async e=>{e.preventDefault(),x()&&(c(!0),setTimeout(()=>{c(!1),l({oldPassword:"",newPassword:"",confirmPassword:""}),m({title:"Password Updated",description:"Your password has been updated successfully."})},1500))};return s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Change Password"}),s.jsx("p",{className:"text-gray-600",children:"Update your password"})]}),s.jsxs(b,{className:"max-w-md mx-auto",children:[s.jsx(g,{children:s.jsx(C,{children:"Change Password"})}),s.jsx(N,{children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(t,{htmlFor:"oldPassword",children:"Current Password"}),s.jsx(i,{id:"oldPassword",name:"oldPassword",type:"password",value:r.oldPassword,onChange:d,className:a.oldPassword?"border-red-500":""}),a.oldPassword&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.oldPassword})]}),s.jsxs("div",{children:[s.jsx(t,{htmlFor:"newPassword",children:"New Password"}),s.jsx(i,{id:"newPassword",name:"newPassword",type:"password",value:r.newPassword,onChange:d,className:a.newPassword?"border-red-500":""}),a.newPassword&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.newPassword})]}),s.jsxs("div",{children:[s.jsx(t,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(i,{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:d,className:a.confirmPassword?"border-red-500":""}),a.confirmPassword&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.confirmPassword})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(y,{href:"/",children:s.jsx(w,{type:"button",variant:"outline",disabled:o,children:"Cancel"})}),s.jsx(w,{type:"submit",className:"bg-[#0076a8] hover:bg-[#005e86]",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(v,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Change Password"})]})]})})]})]})}export{E as default};
